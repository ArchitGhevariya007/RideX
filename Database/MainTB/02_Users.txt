
CREATE TABLE Users(
    userId VARCHAR2(12),
    password VARCHAR2(1000) NOT NULL,
    userToken VARCHAR2(1000) NOT NULL,
    name VARCHAR2(500) NOT NULL,
    gender VARCHAR2(6),
    dob date NOT NULL,
    email VARCHAR2(256) NOT NULL,
    contact VARCHAR2(15) NOT NULL,
    defaultRoute INTEGER,
    drivingLicenseNo VARCHAR2(16),
    userBalance MEDIUMINT ZEROFILL NOT NULL,
    createdAt TIMESTAMP NOT NULL
);


=>Constraints:

1)primary key:

ALTER TABLE Users
ADD CONSTRAINT PK_users_id PRIMARY KEY (userId);

2)check:

ALTER TABLE Users
ADD CONSTRAINT CHK_gender CHECK (gender='Male' OR gender='Female' OR gender='Other');

3)foreign key:

ALTER TABLE Users
ADD CONSTRAINT FK_default_route
FOREIGN KEY (defaultRoute) REFERENCES Persons(mapId);

4)default:

ALTER TABLE Users
ALTER drivingLicenseNo SET DEFAULT NULL;

ALTER TABLE Users
ALTER userBalance SET DEFAULT 0;

ALTER TABLE Users
ALTER createdAt SET DEFAULT CURRENT_TIMESTAMP;

5)unique:

ALTER TABLE Users
ADD CONSTRAINT UNQ_user_token UNIQUE (userToken);

ALTER TABLE Users
ADD CONSTRAINT UNQ_email UNIQUE (email);

ALTER TABLE Users
ADD CONSTRAINT UNQ_contact UNIQUE (contact);


